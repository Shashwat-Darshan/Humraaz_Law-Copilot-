<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration - Humraaj</title>
    <link rel="stylesheet" href="styles/style.css">
    <style>
        .registration-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(250.04deg, #29384d 50.42%, #8e00ff 87.93%);
            padding: 2rem;
        }

        .form {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 500px;
        }

        .title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 2rem;
            color: #333;
        }

        .input {
            width: 100%;
            padding: 12px;
            margin-bottom: 1rem;
            border: 1px solid rgba(105, 105, 105, 0.397);
            border-radius: 10px;
            font-size: 1.2rem;
        }

        .submit {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .submit:hover {
            background-color: #45a049;
        }

        .toggle-container {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .toggle-btn {
            padding: 10px 20px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .toggle-btn.active {
            background-color: #4CAF50;
            color: white;
        }

        .toggle-btn:not(.active) {
            background-color: #f0f0f0;
            color: #333;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }

        .error-message {
            color: red;
            margin-top: -0.5rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            display: none;
        }
    </style>
</head>
<body>
    <div class="registration-container">
        <div class="form">
            <h1 class="title">Register with Humraaj</h1>
            
            <div class="toggle-container">
                <button class="toggle-btn active" onclick="toggleForm('user')">Register as User</button>
                <button class="toggle-btn" onclick="toggleForm('representative')">Register as Representative</button>
            </div>

            <!-- User Registration Form -->
            <form id="userForm" class="form-section active" action="/auth/register/user" method="POST">
                <input type="text" name="first_name" class="input" placeholder="First Name" required>
                <input type="text" name="last_name" class="input" placeholder="Last Name" required>
                <input type="text" name="Religion" class="input" placeholder="Religion" required>
                <input type="text" name="city" class="input" placeholder="City" required>
                <input type="tel" name="Phone" class="input" placeholder="Phone Number" required pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number">
                <div class="error-message" id="userPhoneError">Please enter a valid 10-digit phone number</div>
                <input type="password" name="password" class="input" placeholder="Password" required minlength="6">
                <div class="error-message" id="userPasswordError">Password must be at least 6 characters long</div>
                <button type="submit" class="submit">Register as User</button>
            </form>

            <!-- Representative Registration Form -->
            <form id="representativeForm" class="form-section" action="/auth/register/representative" method="POST">
                <input type="text" name="organisation_id" class="input" placeholder="Organization ID" required>
                <input type="text" name="first_name" class="input" placeholder="First Name" required>
                <input type="text" name="last_name" class="input" placeholder="Last Name" required>
                <input type="text" name="Religion" class="input" placeholder="Religion" required>
                <input type="text" name="city" class="input" placeholder="City" required>
                <input type="tel" name="Phone" class="input" placeholder="Phone Number" required pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number">
                <div class="error-message" id="repPhoneError">Please enter a valid 10-digit phone number</div>
                <input type="password" name="password" class="input" placeholder="Password" required minlength="6">
                <div class="error-message" id="repPasswordError">Password must be at least 6 characters long</div>
                <button type="submit" class="submit">Register as Representative</button>
            </form>
        </div>
    </div>

    <script>
        function toggleForm(type) {
            const userForm = document.getElementById('userForm');
            const repForm = document.getElementById('representativeForm');
            const buttons = document.querySelectorAll('.toggle-btn');
            
            if (type === 'user') {
                userForm.classList.add('active');
                repForm.classList.remove('active');
                buttons[0].classList.add('active');
                buttons[1].classList.remove('active');
            } else {
                userForm.classList.remove('active');
                repForm.classList.add('active');
                buttons[0].classList.remove('active');
                buttons[1].classList.add('active');
            }
        }

        // Form validation
        function validateForm(form, phoneErrorId, passwordErrorId) {
            const phone = form.querySelector('input[name="Phone"]');
            const password = form.querySelector('input[name="password"]');
            const phoneError = document.getElementById(phoneErrorId);
            const passwordError = document.getElementById(passwordErrorId);
            let isValid = true;

            // Phone validation
            if (!/^\d{10}$/.test(phone.value)) {
                phoneError.style.display = 'block';
                isValid = false;
            } else {
                phoneError.style.display = 'none';
            }

            // Password validation
            if (password.value.length < 6) {
                passwordError.style.display = 'block';
                isValid = false;
            } else {
                passwordError.style.display = 'none';
            }

            return isValid;
        }

        // Add form validation listeners
        document.getElementById('userForm').addEventListener('submit', function(e) {
            if (!validateForm(this, 'userPhoneError', 'userPasswordError')) {
                e.preventDefault();
            }
        });

        document.getElementById('representativeForm').addEventListener('submit', function(e) {
            if (!validateForm(this, 'repPhoneError', 'repPasswordError')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>